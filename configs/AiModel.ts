import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = process.env.EXPO_PUBLIC_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey!);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

const chatSession = model.startChat({
  generationConfig,
  // safetySettings: Adjust safety settings
  // See https://ai.google.dev/gemini-api/docs/safety-settings
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Please generate a 5-day travel itinerary with a budget of $2000 for a Couple visiting Paris, France. The itinerary should be in JSON format, covering the period from 2024-09-01 to 2024-09-06. Structure the itinerary with the following details:\n\n1. **Flights**: An array of flight options, each containing:\n   - **airline**: The airline name.\n   - **flightNumber**: The flight number.\n   - **departureAirport**: Departure airport code.\n   - **arrivalAirport**: Arrival airport code.\n   - **departureTime**: Date and time of departure.\n   - **arrivalTime**: Date and time of arrival.\n   - **price**: Ticket price (including the currency symbol, e.g., $100).\n   - **bookingUrl**: URL for booking the flight.\n\n2. **Hotels**: An array of hotel options, each containing:\n   - **name**: The hotel name.\n   - **address**: The hotel address.\n   - **price**: Price per night (including the currency symbol, e.g., $150).\n   - **imageUrl**: URL to an image of the hotel.\n   - **geoCoordinates**: Geographical coordinates (latitude and longitude).\n   - **googleMapUrl**: URL to the hotel's location on Google Maps.\n   - **rating**: Hotel rating.\n   - **description**: Brief description of the hotel.\n   - **nearbyAttractions**: An array of nearby attractions, each containing:\n     - **name**: Attraction name.\n     - **description**: Brief description.\n     - **imageUrl**: URL to an image of the attraction.\n     - **geoCoordinates**: Geographical coordinates (latitude and longitude).\n     - **googleMapUrl**: URL to the attraction's location on Google Maps.\n     - **price**: Entrance fee or ticket price (including the currency symbol, e.g., $20).\n     - **travelTime**: Estimated travel time from the hotel to the attraction.\n\n3. **Daily Itinerary**: An array representing the daily plans, each containing:\n   - **title**: Day number (e.g., \"Day 1\").\n   - **schedule**: An array of activities, each containing:\n     - **time**: Time of the activity.\n     - **activity**: Description of the activity.\n     - **location**: Location of the activity.\n     - **googleMapUrl**: URL to the activity's location on Google Maps.\n     - **details**: Additional details about the activity.\n     - **price**: Associated cost (including the currency symbol, e.g., $50).\n     - **imageUrl**: URL to an image of the location (if available) or null.\n\nEnsure the JSON is well-structured with appropriate keys and values for all necessary booking and planning information. If any image URL is invalid, omit it. I recommend using valid image URLs from reputable sources, such as Wikipedia. For example, use: wikipedia.org/wiki/Dago_Tea_House#/media/Berkas:The\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "flights": [\n    {\n      "airline": "Air France",\n      "flightNumber": "AF001",\n      "departureAirport": "JFK",\n      "arrivalAirport": "CDG",\n      "departureTime": "2024-09-01T10:00:00",\n      "arrivalTime": "2024-09-01T14:30:00",\n      "price": "$600",\n      "bookingUrl": "https://www.airfrance.com"\n    },\n    {\n      "airline": "Delta",\n      "flightNumber": "DL002",\n      "departureAirport": "CDG",\n      "arrivalAirport": "JFK",\n      "departureTime": "2024-09-06T15:00:00",\n      "arrivalTime": "2024-09-06T18:30:00",\n      "price": "$600",\n      "bookingUrl": "https://www.delta.com"\n    }\n  ],\n  "hotels": [\n    {\n      "name": "Hôtel de France",\n      "address": "1 Rue de France, 75009 Paris, France",\n      "price": "$200",\n      "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Hôtel_de_France_%28Paris%29.jpg/250px-Hôtel_de_France_%28Paris%29.jpg",\n      "geoCoordinates": [48.8746, 2.3488],\n      "googleMapUrl": "https://goo.gl/maps/1234567890",\n      "rating": 4.5,\n      "description": "A charming boutique hotel in the heart of Paris",\n      "nearbyAttractions": [\n        {\n          "name": "Musée du Louvre",\n          "description": "One of the world\'s largest and most famous museums",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Louvre_Museum_2019.jpg/250px-Louvre_Museum_2019.jpg",\n          "geoCoordinates": [48.8606, 2.3376],\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "price": "$17",\n          "travelTime": "15 minutes"\n        },\n        {\n          "name": "Tuileries Garden",\n          "description": "A beautiful park with stunning views of the Louvre",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Jardins_des_Tuileries_06_2010.jpg/250px-Jardins_des_Tuileries_06_2010.jpg",\n          "geoCoordinates": [48.8636, 2.3318],\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "price": "Free",\n          "travelTime": "5 minutes"\n        }\n      ]\n    }\n  ],\n  "dailyItinerary": [\n    {\n      "title": "Day 1: Arrival and Exploring Montmartre",\n      "schedule": [\n        {\n          "time": "14:30",\n          "activity": "Arrive at Charles de Gaulle Airport (CDG)",\n          "location": "Charles de Gaulle Airport (CDG)",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Take the RER B train to Gare du Nord and then the Metro to your hotel.",\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "16:00",\n          "activity": "Check in at Hôtel de France",\n          "location": "Hôtel de France",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": null,\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "17:00",\n          "activity": "Walk to Montmartre",\n          "location": "Montmartre",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Take a stroll through the charming streets of Montmartre and enjoy the atmosphere.",\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "18:00",\n          "activity": "Visit the Sacré-Coeur Basilica",\n          "location": "Sacré-Coeur Basilica",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": "Admire the stunning architecture of this iconic church.",\n          "price": null,\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Basilique_du_Sacré-C%C5%93ur_de_Monmartre_2.jpg/250px-Basilique_du_Sacré-C%C5%93ur_de_Monmartre_2.jpg"\n        },\n        {\n          "time": "19:00",\n          "activity": "Dinner at a traditional French bistro",\n          "location": "Le Lapin Agile",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Enjoy a delicious meal at a local bistro.",\n          "price": "$50",\n          "imageUrl": null\n        }\n      ]\n    },\n    {\n      "title": "Day 2: Exploring the City Center",\n      "schedule": [\n        {\n          "time": "9:00",\n          "activity": "Breakfast at a local bakery",\n          "location": "Local Bakery",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": "Start your day with fresh pastries and coffee.",\n          "price": "$10",\n          "imageUrl": null\n        },\n        {\n          "time": "10:00",\n          "activity": "Visit the Louvre Museum",\n          "location": "Musée du Louvre",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "See masterpieces like the Mona Lisa and Venus de Milo.",\n          "price": "$17",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Louvre_Museum_2019.jpg/250px-Louvre_Museum_2019.jpg"\n        },\n        {\n          "time": "13:00",\n          "activity": "Lunch at a cafe in the Tuileries Garden",\n          "location": "Tuileries Garden",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": "Relax and enjoy a light lunch in the beautiful Tuileries Garden.",\n          "price": "$20",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Jardins_des_Tuileries_06_2010.jpg/250px-Jardins_des_Tuileries_06_2010.jpg"\n        },\n        {\n          "time": "14:00",\n          "activity": "Visit the Eiffel Tower",\n          "location": "Eiffel Tower",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Ascend to the top of the Eiffel Tower for panoramic views of Paris.",\n          "price": "$26",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/Eiffel_Tower_at_night.jpg/250px-Eiffel_Tower_at_night.jpg"\n        },\n        {\n          "time": "17:00",\n          "activity": "Enjoy a romantic boat ride on the Seine River",\n          "location": "Seine River",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": "Take a relaxing cruise along the Seine River and admire the sights.",\n          "price": "$30",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Seine_river_in_Paris_20100627_4418.jpg/250px-Seine_river_in_Paris_20100627_4418.jpg"\n        },\n        {\n          "time": "19:00",\n          "activity": "Dinner at a restaurant with views of the Eiffel Tower",\n          "location": "Restaurant with Eiffel Tower Views",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Enjoy a romantic dinner with stunning views of the Eiffel Tower.",\n          "price": "$70",\n          "imageUrl": null\n        }\n      ]\n    },\n    {\n      "title": "Day 3: Exploring Latin Quarter and Beyond",\n      "schedule": [\n        {\n          "time": "9:00",\n          "activity": "Breakfast at the hotel",\n          "location": "Hôtel de France",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": null,\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "10:00",\n          "activity": "Visit the Pantheon",\n          "location": "Pantheon",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Explore this historic monument and learn about its significance.",\n          "price": null,\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Panthéon_Paris_20100615.jpg/250px-Panthéon_Paris_20100615.jpg"\n        },\n        {\n          "time": "11:00",\n          "activity": "Walk through the Latin Quarter",\n          "location": "Latin Quarter",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": "Explore the vibrant atmosphere of the Latin Quarter.",\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "12:00",\n          "activity": "Lunch at a cafe in the Latin Quarter",\n          "location": "Cafe in Latin Quarter",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Enjoy a traditional French lunch at a local cafe.",\n          "price": "$20",\n          "imageUrl": null\n        },\n        {\n          "time": "14:00",\n          "activity": "Visit the Musée d\'Orsay",\n          "location": "Musée d\'Orsay",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": "Admire Impressionist and Post-Impressionist art in this beautiful museum.",\n          "price": "$16",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Musee_d%27Orsay_Paris_2015.jpg/250px-Musee_d%27Orsay_Paris_2015.jpg"\n        },\n        {\n          "time": "17:00",\n          "activity": "Relax and enjoy a glass of wine at a cafe",\n          "location": "Cafe in Latin Quarter",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Take a break and savor a glass of wine at a cafe.",\n          "price": "$15",\n          "imageUrl": null\n        },\n        {\n          "time": "19:00",\n          "activity": "Dinner at a restaurant in the Latin Quarter",\n          "location": "Restaurant in Latin Quarter",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": "Enjoy a delicious dinner at a local restaurant.",\n          "price": "$40",\n          "imageUrl": null\n        }\n      ]\n    },\n    {\n      "title": "Day 4: Exploring the Marais District and Beyond",\n      "schedule": [\n        {\n          "time": "9:00",\n          "activity": "Breakfast at the hotel",\n          "location": "Hôtel de France",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": null,\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "10:00",\n          "activity": "Explore the Marais District",\n          "location": "Marais District",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": "Discover the historic and artistic treasures of the Marais District.",\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "11:00",\n          "activity": "Visit the Musée Picasso",\n          "location": "Musée Picasso",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Admire the works of Pablo Picasso in this dedicated museum.",\n          "price": "$13",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Musee_Picasso_Paris_exterior.jpg/250px-Musee_Picasso_Paris_exterior.jpg"\n        },\n        {\n          "time": "12:00",\n          "activity": "Lunch at a cafe in the Marais District",\n          "location": "Cafe in Marais District",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Enjoy a leisurely lunch at a cafe in the Marais District.",\n          "price": "$20",\n          "imageUrl": null\n        },\n        {\n          "time": "14:00",\n          "activity": "Visit the Centre Pompidou",\n          "location": "Centre Pompidou",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": "Explore modern and contemporary art at this iconic building.",\n          "price": "$16",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Centre_Pompidou_2011-01-14.jpg/250px-Centre_Pompidou_2011-01-14.jpg"\n        },\n        {\n          "time": "17:00",\n          "activity": "Take a walk along the Canal Saint-Martin",\n          "location": "Canal Saint-Martin",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": "Enjoy a stroll along the picturesque Canal Saint-Martin.",\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "19:00",\n          "activity": "Dinner at a restaurant in the Marais District",\n          "location": "Restaurant in Marais District",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": "Enjoy a delicious dinner at a local restaurant in the Marais District.",\n          "price": "$40",\n          "imageUrl": null\n        }\n      ]\n    },\n    {\n      "title": "Day 5: Departure",\n      "schedule": [\n        {\n          "time": "9:00",\n          "activity": "Breakfast at the hotel",\n          "location": "Hôtel de France",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": null,\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "10:00",\n          "activity": "Last-minute shopping or souvenir browsing",\n          "location": "Various locations in Paris",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Pick up any last-minute souvenirs or gifts.",\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "12:00",\n          "activity": "Lunch at a cafe",\n          "location": "Cafe in Paris",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Enjoy a final French lunch before departure.",\n          "price": "$20",\n          "imageUrl": null\n        },\n        {\n          "time": "14:00",\n          "activity": "Check out of the hotel",\n          "location": "Hôtel de France",\n          "googleMapUrl": "https://goo.gl/maps/9876543210",\n          "details": null,\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "15:00",\n          "activity": "Transfer to Charles de Gaulle Airport (CDG)",\n          "location": "Charles de Gaulle Airport (CDG)",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": "Take the RER B train from Gare du Nord to CDG.",\n          "price": null,\n          "imageUrl": null\n        },\n        {\n          "time": "15:30",\n          "activity": "Depart from Paris",\n          "location": "Charles de Gaulle Airport (CDG)",\n          "googleMapUrl": "https://goo.gl/maps/1234567890",\n          "details": null,\n          "price": null,\n          "imageUrl": null\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* **Flights:** This itinerary assumes you\'ll be flying from JFK to CDG and back. You\'ll need to adjust the airline, flight numbers, and prices based on your actual flight information.\n* **Hotels:** The itinerary suggests "Hôtel de France" for this example. You can replace it with any hotel of your preference, including alternatives like "Hôtel du Louvre" or "Hôtel Saint-André des Arts." Be sure to update the details accordingly.\n* **Activities:** The itinerary includes a variety of popular activities in Paris. Feel free to modify or replace them with attractions that better suit your interests.\n* **Prices:** The prices are estimates and can vary based on the time of year, specific activities, and your chosen options. Be sure to check for current prices.\n* **Image URLs:** The itinerary includes image URLs for some attractions. You can find valid image URLs for other attractions on Wikipedia or other reputable sources. If no image is available, simply omit the "imageUrl" field.\n\nThis JSON itinerary is a starting point for your planning. You can customize it further based on your specific preferences and budget. Remember to factor in costs for transportation within Paris (metro, taxis), meals, and additional activities you might choose to participate in. \n',
        },
      ],
    },
  ],
});

export { chatSession };
